<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width" />
	<title>Error Tracker</title>
	<script>
		var appContext = @AppContext;
		window.onerror = function (msg, url, line, charIdx)
		{
			try
			{
				url = url.replace(/\/\/.*?\//, '//censored_hostname/');
				var errStr = "An unexpected error has occurred in " + appContext.systemName + " " + location.pathname + " (v " + appContext.serverVersion + "). A full refresh may solve the problem (CTRL + F5). If you wish to report the error, please SCREENSHOT the browser now.\n\n" + msg + "\nat " + url + " [" + line + ":" + charIdx + "]\n" + navigator.userAgent;
				try
				{
					if (window.toaster)
						window.toaster.error(errStr);
				}
				catch (ex)
				{
					console.error(errStr);
					alert(errStr);
				}
			}
			catch (ex)
			{
				alert(ex);
				console.log(arguments);
			}
		};
	</script>
	<style type="text/css">
		html
		{
			height: 100%;
		}

		body
		{
			margin: 0px;
			font-family: Arial, sans-serif;
			height: 100%;
			overflow: auto;
		}
	</style>
</head>
<body>
	<!-- This is a Vue.js application, and most of the HTML is generated by script. -->
	<div id="app">
		<div class="mainAppLoading" style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;text-align:center;overflow:hidden;font-family:Arial,sans-serif;padding:20px 0px;">
			<div>
				<div>Loading Error Tracker</div>
				<div style="margin-top:15px;"><img src="@(AppPath)Images/ajax-loader.gif" alt="Loading…" /></div>
			</div>
		</div>
	</div>
	<script src="@(AppPath)dist/bundle.js"></script>
</body>
</html>